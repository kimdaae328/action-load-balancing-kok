# λ΅λ“ λ°Έλ°μ‹± (Load Balancing)

## κ°μ”

**λ΅λ“ λ°Έλ°μ‹±(Load Balancing)** μ€ μ‚¬μ©μμ μ”μ²­(νΈλν”½)μ„ μ—¬λ¬ μ„λ²„λ΅ λ¶„μ‚°μ‹μΌ  
μ‹μ¤ν…μ **λ¶€ν•λ¥Ό κ· λ“±ν•κ² λ¶„λ°°**ν•κ³ , **μ„λΉ„μ¤ μ•μ •μ„±κ³Ό κ°€μ©μ„±**μ„ λ†’μ΄λ” κΈ°μ μ΄λ‹¤.  

μ¦‰, ν• μ„λ²„μ—λ§ μ”μ²­μ΄ λ°λ ¤ λ‹¤μ΄λκ±°λ‚ λλ ¤μ§€λ” λ¬Έμ λ¥Ό λ°©μ§€ν•κ³   
μ—¬λ¬ μ„λ²„κ°€ ν‘λ ¥ν•μ—¬ ν•λ‚μ μ„λΉ„μ¤μ²λΌ λ™μ‘ν•λ„λ΅ ν•λ‹¤.

---

## μ£Όμ” κ°λ…

| κ°λ… | μ„¤λ… |
|------|------|
| **Load Balancer (LB)** | ν΄λΌμ΄μ–ΈνΈ μ”μ²­μ„ μ—¬λ¬ μ„λ²„μ— λ¶„μ‚°μ‹ν‚¤λ” μ¤‘κ°„ κ΄€λ¦¬μ μ—­ν•  |
| **Target Group** | λ΅λ“ λ°Έλ°μ„κ°€ λ¶„μ‚°μ‹ν‚¬ λ€μƒ μ„λ²„(EC2, μ»¨ν…μ΄λ„ λ“±)μ μ§‘ν•© |
| **Health Check** | μ„λ²„μ μƒνƒλ¥Ό μ£ΌκΈ°μ μΌλ΅ μ κ²€ν•μ—¬, μ •μƒμΈ μ„λ²„λ΅λ§ νΈλν”½μ„ μ „λ‹¬ |
| **Session Persistence** | μ‚¬μ©μμ μ„Έμ…μ΄ νΉμ • μ„λ²„μ— κ³ μ •λλ„λ΅ μ„¤μ •ν•λ” μµμ… (ν•„μ” μ‹) |

---

## λ΅λ“ λ°Έλ°μ‹± κµ¬μ΅° μμ‹
- **λ΅λ“ λ°Έλ°μ„ (AWS ELB λλ” Nginx)**  
  β†’ νΈλν”½μ„ λ‘ κ° μ΄μƒμ EC2 μΈμ¤ν„΄μ¤(Spring μ„λ²„)λ΅ λ¶„μ‚°  

- **EC2 μ„λ²„**  
  β†’ κ°κ° Docker μ»¨ν…μ΄λ„λ΅ Spring Boot μ• ν”λ¦¬μΌ€μ΄μ…μ„ μ‹¤ν–‰  

- **RDS / Redis**  
  β†’ λ¨λ“  μ„λ²„κ°€ κ³µμ ν•λ” λ°μ΄ν„°λ² μ΄μ¤ λ° μΊμ‹ μ„λ²„


## λ™μ‘ λ°©μ‹

1. μ‚¬μ©μκ°€ μ„λΉ„μ¤μ— μ ‘μ†ν•λ©΄ μ”μ²­μ΄ **λ΅λ“ λ°Έλ°μ„λ΅ λ¨Όμ € μ „λ‹¬**λλ‹¤.  
2. λ΅λ“ λ°Έλ°μ„λ” **μ„λ²„μ μƒνƒ(Health Check)** λ¥Ό ν™•μΈν•λ‹¤.  
3. μ •μƒ μƒνƒμΈ μ„λ²„ μ¤‘ ν•λ‚λ¥Ό μ„ νƒν•΄ νΈλν”½μ„ μ „λ‹¬ν•λ‹¤.  
4. ν• μ„λ²„μ— κ³Όλ¶€ν•κ°€ λ°μƒν•λ©΄ λ‹¤λ¥Έ μ„λ²„λ΅ μ”μ²­μ„ λ¶„μ‚°μ‹ν‚¨λ‹¤.  
5. μ„λ²„ ν• λ€κ°€ λ‹¤μ΄λλ”λΌλ„ λ‚λ¨Έμ§€ μ„λ²„κ°€ μ„λΉ„μ¤λ¥Ό κ³„μ† μ μ§€ν•λ‹¤.

---

## Nginx λ΅λ“ λ°Έλ°μ‹± μ„¤μ • μμ‹

```nginx
http {
    upstream backend {
        server 172.31.0.101:10000;  # Spring 1
        server 172.31.0.102:10000;  # Spring 2
    }

    server {
        listen 80;
        location / {
            proxy_pass http://backend;
        }
    }
}

π’΅ **upstream** λΈ”λ΅μ—μ„ μ—¬λ¬ μ„λ²„λ¥Ό λ“±λ΅ν•λ©΄  
Nginxκ°€ μλ™μΌλ΅ νΈλν”½μ„ κ· λ“±ν•κ² λ¶„λ°°ν•λ‹¤.

## κΈ°λ€ ν¨κ³Ό

- νΈλν”½ ν­μ£Ό μ‹μ—λ„ **μ„λΉ„μ¤ μ•μ •μ„± μ μ§€**  
- μ„λ²„ κ°„ **λ¶€ν• λ¶„μ‚°μΌλ΅ μ„±λ¥ ν–¥μƒ**  
- μ„λ²„ μ¥μ•  λ°μƒ μ‹ **μλ™ μ¥μ•  λ€μ‘ (Failover)**  
- **ν™•μ¥μ„±(Scalability)** ν™•λ³΄λ΅ **λ¬΄μ¤‘λ‹¨ λ°°ν¬** κ°€λ¥  

---

## μ”μ•½

- **Nginx / AWS ELB** λ¥Ό ν†µν•΄ νΈλν”½μ„ λ¶„μ‚°  
- **λ‹¤μ¤‘ EC2 μ„λ²„ κµ¬μ„±**μΌλ΅ μ•μ •μ„± κ°•ν™”  
- **Docker + CI/CD + Load Balancer** μ΅°ν•©μΌλ΅ μ™„μ „ μλ™ν™” λ°°ν¬ ν™κ²½ κµ¬μ¶•  

κ²°κ³Όμ μΌλ΅, λ†’μ€ νΈλν”½ μƒν™©μ—μ„λ„  
**μ•μ •μ μ΄κ³  μ μ—°ν• μ„λΉ„μ¤ μ΄μμ΄ κ°€λ¥ν• μΈν”„λΌ**λ¥Ό μ™„μ„±ν–λ‹¤.
